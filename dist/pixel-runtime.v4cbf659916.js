(()=>{(function(){const t=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;if(!t)return;const e=t.__RETARGLOW_PIXEL__||{},i=t.document;function d(){if(e.endpoint)try{return new URL(e.endpoint,t.location?t.location.href:void 0).origin}catch(n){}try{if(t.location&&t.location.origin)return t.location.origin}catch(n){}return"https://retarglow.com"}const h=d().replace(/\/$/,"")+"/b";function a(){if(typeof e.url=="string")return e.url;try{if(i&&i.location&&typeof i.location.href=="string")return i.location.href;if(t.location&&typeof t.location.href=="string")return t.location.href}catch(n){}return null}function g(){if(!t.screen)return null;const n=Number(t.screen.width)||0,r=Number(t.screen.height)||0;return!n||!r?null:n+"x"+r}const y={cid:typeof e.cid=="string"?e.cid:null,u:a(),sr:g()};function c(n){if(typeof n!="string"||!n)return null;try{if(t.location&&typeof t.location.href=="string")return new URL(n,t.location.href).href}catch(r){}try{return new URL(n).href}catch(r){}return n}const f="__retarglow_last_ad_url__";function p(){try{if(t.sessionStorage&&typeof t.sessionStorage.getItem=="function")return t.sessionStorage.getItem(f)}catch(n){}return null}function s(n){try{t.sessionStorage&&typeof t.sessionStorage.setItem=="function"&&t.sessionStorage.setItem(f,n)}catch(r){}}function _(n){if(!(typeof n!="string"||!n)){s(n);try{if(t.location&&typeof t.location.assign=="function"){t.location.assign(n);return}}catch(r){}try{t.location&&(t.location.href=n)}catch(r){}}}function m(n){if(!n)return;let r=null;if(typeof n=="object"&&n!==null&&typeof n.ad_url=="string"&&n.ad_url&&(r=n.ad_url),!r)return;const o=c(r),l=c(a()),u=c(p());if(o&&l&&o===l){s(o);return}o&&u&&o===u||_(o||r)}function w(){try{const n=JSON.stringify(y);return t.fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:n})}catch(n){return Promise.reject(n)}}w().then(n=>!n||!n.ok?null:n.json().catch(()=>null)).then(m).catch(()=>{})})();})();